### 链接

http://codeforces.com/contest/915/problem/F

### 描述

给一个n(1<=n<=10^6)个节点的树，每个节点值为a[i]， 路径最大值表示某条路径上最大点的值，求树上所有路径的最大值之和，最小值之和。

我们就求最大值之和，最小值一样。

### 分析

将节点按照值的大小进行排序，然后从小到大开始处理， 每个点维护一个相邻已访问点的集合， 由于我们是从小到大进行处理的，
所以这个集合具有一个特性，就是已访问的点比所有未访问的点都小， 那么处理一个新的节点时，
新的节点对最终值的贡献 = 与所有比他小的点组成的路径数 * 节点值， 假设与i相邻已访问的点分别为v1, v2, ..., vk，
那么总路径数包含两部分：
1. 以i为终点。 这部分总数量 = \Sigma{i = 1}{k}{sz[v[i]]} + 1
2. 跨过i的路径。 总数 = \Sigma{i = 2}{k}{ \Sigma{j=1}{i-1}{sz[i] * sz[j]} }


### Submission

http://codeforces.com/contest/915/submission/34211442


### 扩展

